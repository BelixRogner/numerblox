---

title: Staking


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/10_staking.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/10_staking.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
<span class="o">%</span><span class="k">load_ext</span> nb_black
<span class="o">%</span><span class="k">load_ext</span> lab_black
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="d67a2bb7-883e-475b-998d-f436c5b7d924"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#d67a2bb7-883e-475b-998d-f436c5b7d924');

            setTimeout(function() {
                var nbb_cell_id = 1;
                var nbb_unformatted_code = "%load_ext autoreload\n%autoreload 2\n%load_ext nb_black\n%load_ext lab_black";
                var nbb_formatted_code = "%load_ext autoreload\n%autoreload 2\n%load_ext nb_black\n%load_ext lab_black";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>These objects offer automated staking functionality for Numerai Classic and signals.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="0.-BaseStaker">0. BaseStaker<a class="anchor-link" href="#0.-BaseStaker"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This object implements functionality that is the same for both Numerai classic and Numerai Signals.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="BaseStaker" class="doc_header"><code>class</code> <code>BaseStaker</code><a href="https://github.com/crowdcent/numerai_blocks/tree/main/numerai_blocks/staking.py#L17" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>BaseStaker</code>(<strong><code>key</code></strong>:<a href="/numerai_blocks/key.html#Key"><code>Key</code></a>, <strong><code>tournament_number</code></strong>:<code>int</code>, <strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Base class for staking functionality which holds for both Numerai Classic and Signals.
:param key: a numerai-blocks Key object
:param tournament_number: ID of the tournament (8 for Numerai Classic and 11 for Numerai Signals).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="5a81dc92-7e5f-4850-8b07-473ff731ee47"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#5a81dc92-7e5f-4850-8b07-473ff731ee47');

            setTimeout(function() {
                var nbb_cell_id = 5;
                var nbb_unformatted_code = "#export\n@typechecked\nclass BaseStaker:\n    \"\"\"\n    Base class for staking functionality which holds for both Numerai Classic and Signals.\n    :param key: a numerai-blocks Key object\n    :param tournament_number: ID of the tournament (8 for Numerai Classic and 11 for Numerai Signals).\n    \"\"\"\n    def __init__(self, key: Key, tournament_number: int, *args, **kwargs):\n        self.tournament_number = tournament_number\n        self.api = NumerAPI(public_id=key.pub_id, secret_key=key.secret_key, *args, **kwargs)\n\n    def stake_change(self, model_name: str, amount: Union[float, str]):\n        \"\"\"\n        Change arbitrary stake amount.\n        :param model_name: Lowercase raw model name (For example, 'integration_test').\n        :param amount: NMR amount to increase or decrease.\n        negative number = Stake decrease.\n        positive number = Stake increase.\n        \"\"\"\n        action = 'decrease' if amount < 0 else 'increase'\n        color = 'red' if amount < 0 else 'green'\n        model_id = self._get_model_id(model_name=model_name)\n        rich_print(f\"[bold {color}]{action[:-1]}ing[/bold {color}] stake by amount '[bold {color}]{amount}[/bold {color}]' for model: [bold blue]'{model_name}'[/bold blue] (id='{model_id}')!\")\n        self.api.stake_change(nmr=amount, action=action,\n                              model_id=model_id, tournament=self.tournament_number)\n\n    def stake_drain_all(self):\n        \"\"\" WARNING!!! This function will remove all stakes for all models in your account!!! \"\"\"\n        prompt = input(f\"WARNING: You are about to remove all stakes for all your models! Are you sure? [Y/n]\")\n        if prompt == \"Y\":\n            model_names = list(self.get_model_mapping.keys())\n            for name in tqdm(model_names, desc=\"Full stake drain!\"):\n                self.stake_drain_single(model_name=name)\n        else:\n            rich_print(\"Aborting full stake draining.\")\n\n    def stake_drain_single(self, model_name: str):\n        \"\"\"\n        WARNING!!! This function removes your full stake for a given model name!!!\n        :param model_name: Lowercase raw model name (For example, 'integration_test').\n        \"\"\"\n        model_id = self._get_model_id(model_name=model_name)\n        rich_print(f\":warning: Draining stake for model: '{model_name}' (id: '{model_id}' :warning:\")\n        self.api.stake_drain(model_id=model_id, tournament=self.tournament_number)\n\n    def _get_model_id(self, model_name: str) -> str:\n        \"\"\"Get ID needed for staking.\"\"\"\n        return self.get_model_mapping[model_name]\n\n    @property\n    def get_model_mapping(self) -> dict:\n        \"\"\"Mapping between raw model names and model IDs.\"\"\"\n        return self.api.get_models()\n\n    @property\n    def available_nmr(self):\n        \"\"\" Check how much NMR is available in your wallet. \"\"\"\n        return np.float64(self.api.get_account()['availableNmr'])";
                var nbb_formatted_code = "# export\n@typechecked\nclass BaseStaker:\n    \"\"\"\n    Base class for staking functionality which holds for both Numerai Classic and Signals.\n    :param key: a numerai-blocks Key object\n    :param tournament_number: ID of the tournament (8 for Numerai Classic and 11 for Numerai Signals).\n    \"\"\"\n\n    def __init__(self, key: Key, tournament_number: int, *args, **kwargs):\n        self.tournament_number = tournament_number\n        self.api = NumerAPI(\n            public_id=key.pub_id, secret_key=key.secret_key, *args, **kwargs\n        )\n\n    def stake_change(self, model_name: str, amount: Union[float, str]):\n        \"\"\"\n        Change arbitrary stake amount.\n        :param model_name: Lowercase raw model name (For example, 'integration_test').\n        :param amount: NMR amount to increase or decrease.\n        negative number = Stake decrease.\n        positive number = Stake increase.\n        \"\"\"\n        action = \"decrease\" if amount < 0 else \"increase\"\n        color = \"red\" if amount < 0 else \"green\"\n        model_id = self._get_model_id(model_name=model_name)\n        rich_print(\n            f\"[bold {color}]{action[:-1]}ing[/bold {color}] stake by amount '[bold {color}]{amount}[/bold {color}]' for model: [bold blue]'{model_name}'[/bold blue] (id='{model_id}')!\"\n        )\n        self.api.stake_change(\n            nmr=amount,\n            action=action,\n            model_id=model_id,\n            tournament=self.tournament_number,\n        )\n\n    def stake_drain_all(self):\n        \"\"\"WARNING!!! This function will remove all stakes for all models in your account!!!\"\"\"\n        prompt = input(\n            f\"WARNING: You are about to remove all stakes for all your models! Are you sure? [Y/n]\"\n        )\n        if prompt == \"Y\":\n            model_names = list(self.get_model_mapping.keys())\n            for name in tqdm(model_names, desc=\"Full stake drain!\"):\n                self.stake_drain_single(model_name=name)\n        else:\n            rich_print(\"Aborting full stake draining.\")\n\n    def stake_drain_single(self, model_name: str):\n        \"\"\"\n        WARNING!!! This function removes your full stake for a given model name!!!\n        :param model_name: Lowercase raw model name (For example, 'integration_test').\n        \"\"\"\n        model_id = self._get_model_id(model_name=model_name)\n        rich_print(\n            f\":warning: Draining stake for model: '{model_name}' (id: '{model_id}' :warning:\"\n        )\n        self.api.stake_drain(model_id=model_id, tournament=self.tournament_number)\n\n    def _get_model_id(self, model_name: str) -> str:\n        \"\"\"Get ID needed for staking.\"\"\"\n        return self.get_model_mapping[model_name]\n\n    @property\n    def get_model_mapping(self) -> dict:\n        \"\"\"Mapping between raw model names and model IDs.\"\"\"\n        return self.api.get_models()\n\n    @property\n    def available_nmr(self):\n        \"\"\"Check how much NMR is available in your wallet.\"\"\"\n        return np.float64(self.api.get_account()[\"availableNmr\"])";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">key</span> <span class="o">=</span> <span class="n">load_key_from_json</span><span class="p">(</span><span class="s2">&quot;test_assets/test_credentials.json&quot;</span><span class="p">)</span>
<span class="c1"># Numerai Classic tournament number = 8</span>
<span class="n">base_staker</span> <span class="o">=</span> <span class="n">BaseStaker</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">tournament_number</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">🔑 Numerai Auth key initialized with pub_id = <span style="color: #008000; text-decoration-color: #008000">'UFVCTElDX0lE'</span> 🔑
</pre>

</div>

</div>

<div class="output_area">




<div id="3bbd0b91-6a82-4a73-89d7-3902c487f2b9"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#3bbd0b91-6a82-4a73-89d7-3902c487f2b9');

            setTimeout(function() {
                var nbb_cell_id = 6;
                var nbb_unformatted_code = "key = load_key_from_json(\"test_assets/test_credentials.json\")\n# Numerai Classic tournament number = 8\nbase_staker = BaseStaker(key=key, tournament_number=8)";
                var nbb_formatted_code = "key = load_key_from_json(\"test_assets/test_credentials.json\")\n# Numerai Classic tournament number = 8\nbase_staker = BaseStaker(key=key, tournament_number=8)";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="a38944d3-9335-4a81-b206-2670a7dbb212"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#a38944d3-9335-4a81-b206-2670a7dbb212');

            setTimeout(function() {
                var nbb_cell_id = 7;
                var nbb_unformatted_code = "# base_staker.get_model_mapping";
                var nbb_formatted_code = "# base_staker.get_model_mapping";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="5a314438-f377-4c4c-8910-f3c4458400ad"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#5a314438-f377-4c4c-8910-f3c4458400ad');

            setTimeout(function() {
                var nbb_cell_id = 8;
                var nbb_unformatted_code = "# base_staker.available_nmr";
                var nbb_formatted_code = "# base_staker.available_nmr";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># base_staker.stake_change(&quot;test&quot;, 0.01)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="5ea261b3-3924-4907-915f-8b040065ed55"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#5ea261b3-3924-4907-915f-8b040065ed55');

            setTimeout(function() {
                var nbb_cell_id = 9;
                var nbb_unformatted_code = "# base_staker.stake_change(\"test\", -0.01)\n# base_staker.stake_change(\"test\", 0.01)";
                var nbb_formatted_code = "# base_staker.stake_change(\"test\", -0.01)\n# base_staker.stake_change(\"test\", 0.01)";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># base_staker.stake_drain_single(model_name=&quot;test&quot;)</span>

<span class="c1"># WARNING!!! This function removes all stakes for all your models!!!</span>
<span class="c1"># base_staker.stake_drain_all()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="cea26788-8c94-40cf-89e5-6d51f8706947"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#cea26788-8c94-40cf-89e5-6d51f8706947');

            setTimeout(function() {
                var nbb_cell_id = 10;
                var nbb_unformatted_code = "# WARNING!!! This function removes the full stake for a given model name!!!\n# base_staker.stake_drain_single(model_name=\"test\")\n\n# WARNING!!! This function removes all stakes for all your models!!!\n# base_staker.stake_drain_all()";
                var nbb_formatted_code = "# WARNING!!! This function removes the full stake for a given model name!!!\n# base_staker.stake_drain_single(model_name=\"test\")\n\n# WARNING!!! This function removes all stakes for all your models!!!\n# base_staker.stake_drain_all()";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="1.-Numerai-Classic">1. Numerai Classic<a class="anchor-link" href="#1.-Numerai-Classic"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="NumeraiClassicStaker" class="doc_header"><code>class</code> <code>NumeraiClassicStaker</code><a href="https://github.com/crowdcent/numerai_blocks/tree/main/numerai_blocks/staking.py#L76" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>NumeraiClassicStaker</code>(<strong><code>key</code></strong>:<a href="/numerai_blocks/key.html#Key"><code>Key</code></a>, <strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>) :: <a href="/numerai_blocks/staking.html#BaseStaker"><code>BaseStaker</code></a></p>
</blockquote>
<p>Staking functionality specific to Numerai Classic (tournament number 8).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="5e2f749e-d6b7-46d1-92cc-34035265a851"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#5e2f749e-d6b7-46d1-92cc-34035265a851');

            setTimeout(function() {
                var nbb_cell_id = 11;
                var nbb_unformatted_code = "#export\nclass NumeraiClassicStaker(BaseStaker):\n    \"\"\" Staking functionality specific to Numerai Classic (tournament number 8). \"\"\"\n    CLASSIC_TOURNAMENT_NUMBER = 8\n    def __init__(self, key: Key, *args, **kwargs):\n        super().__init__(key=key, tournament_number=self.CLASSIC_TOURNAMENT_NUMBER,\n                         *args, **kwargs\n                         )\n\n    @property\n    def get_stakes(self) -> dict:\n        \"\"\"\n        Get mapping of stakes for all models.\n        Example output:\n            {\n            \"my_model_1\": 20,\n            \"my_model_2\": 100,\n            \"my_model_3: 0\n            }\n        \"\"\"\n        stakes = [self._get_single_stake(model_name=model_name) for model_name in self.get_model_mapping.keys()]\n        return {name: stake for name, stake in zip(self.get_model_mapping, stakes)}\n\n    def _get_single_stake(self, model_name: str):\n        return np.float64(self.api.stake_get(username=model_name))";
                var nbb_formatted_code = "# export\nclass NumeraiClassicStaker(BaseStaker):\n    \"\"\"Staking functionality specific to Numerai Classic (tournament number 8).\"\"\"\n\n    CLASSIC_TOURNAMENT_NUMBER = 8\n\n    def __init__(self, key: Key, *args, **kwargs):\n        super().__init__(\n            key=key, tournament_number=self.CLASSIC_TOURNAMENT_NUMBER, *args, **kwargs\n        )\n\n    @property\n    def get_stakes(self) -> dict:\n        \"\"\"\n        Get mapping of stakes for all models.\n        Example output:\n            {\n            \"my_model_1\": 20,\n            \"my_model_2\": 100,\n            \"my_model_3: 0\n            }\n        \"\"\"\n        stakes = [\n            self._get_single_stake(model_name=model_name)\n            for model_name in self.get_model_mapping.keys()\n        ]\n        return {name: stake for name, stake in zip(self.get_model_mapping, stakes)}\n\n    def _get_single_stake(self, model_name: str):\n        return np.float64(self.api.stake_get(username=model_name))";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">classic_staker</span> <span class="o">=</span> <span class="n">NumeraiClassicStaker</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">classic_staker</span><span class="o">.</span><span class="n">CLASSIC_TOURNAMENT_NUMBER</span> <span class="o">==</span> <span class="mi">8</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="d3e83e35-bdd5-4fa2-9d79-1af0ad80a44c"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#d3e83e35-bdd5-4fa2-9d79-1af0ad80a44c');

            setTimeout(function() {
                var nbb_cell_id = 12;
                var nbb_unformatted_code = "classic_staker = NumeraiClassicStaker(key=key)\nassert classic_staker.CLASSIC_TOURNAMENT_NUMBER == 8";
                var nbb_formatted_code = "classic_staker = NumeraiClassicStaker(key=key)\nassert classic_staker.CLASSIC_TOURNAMENT_NUMBER == 8";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="31ff7be4-d9eb-4c03-ab7a-015c0fab50fa"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#31ff7be4-d9eb-4c03-ab7a-015c0fab50fa');

            setTimeout(function() {
                var nbb_cell_id = 13;
                var nbb_unformatted_code = "# classic_staker.get_stakes";
                var nbb_formatted_code = "# classic_staker.get_stakes";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="2.-Numerai-Signals">2. Numerai Signals<a class="anchor-link" href="#2.-Numerai-Signals"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>NOTE: Unfortunately, NumerAPI does not support <code>NumerAPI().stake_get</code> for Numerai Signals models. If this is fixed in the future we will add stake retrieval functionality for Numerai Signals.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="NumeraiSignalsStaker" class="doc_header"><code>class</code> <code>NumeraiSignalsStaker</code><a href="https://github.com/crowdcent/numerai_blocks/tree/main/numerai_blocks/staking.py#L102" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>NumeraiSignalsStaker</code>(<strong><code>key</code></strong>:<a href="/numerai_blocks/key.html#Key"><code>Key</code></a>, <strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>) :: <a href="/numerai_blocks/staking.html#BaseStaker"><code>BaseStaker</code></a></p>
</blockquote>
<p>Staking functionality specific to Numerai Signals (tournament number 11).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="21856615-61b8-47b5-b77f-dbc7858e283f"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#21856615-61b8-47b5-b77f-dbc7858e283f');

            setTimeout(function() {
                var nbb_cell_id = 14;
                var nbb_unformatted_code = "#export\nclass NumeraiSignalsStaker(BaseStaker):\n    \"\"\" Staking functionality specific to Numerai Signals (tournament number 11). \"\"\"\n    SIGNALS_TOURNAMENT_NUMBER = 11\n    def __init__(self, key: Key, *args, **kwargs):\n        super().__init__(key=key,\n                         tournament_number=self.SIGNALS_TOURNAMENT_NUMBER,\n                         *args, **kwargs\n                         )";
                var nbb_formatted_code = "# export\nclass NumeraiSignalsStaker(BaseStaker):\n    \"\"\"Staking functionality specific to Numerai Signals (tournament number 11).\"\"\"\n\n    SIGNALS_TOURNAMENT_NUMBER = 11\n\n    def __init__(self, key: Key, *args, **kwargs):\n        super().__init__(\n            key=key, tournament_number=self.SIGNALS_TOURNAMENT_NUMBER, *args, **kwargs\n        )";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">signals_staker</span> <span class="o">=</span> <span class="n">NumeraiSignalsStaker</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">signals_staker</span><span class="o">.</span><span class="n">SIGNALS_TOURNAMENT_NUMBER</span> <span class="o">==</span> <span class="mi">11</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="d07c8aa3-eeb5-4015-bd5d-a9267c932893"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#d07c8aa3-eeb5-4015-bd5d-a9267c932893');

            setTimeout(function() {
                var nbb_cell_id = 15;
                var nbb_unformatted_code = "signals_staker = NumeraiSignalsStaker(key=key)\nassert signals_staker.SIGNALS_TOURNAMENT_NUMBER == 11";
                var nbb_formatted_code = "signals_staker = NumeraiSignalsStaker(key=key)\nassert signals_staker.SIGNALS_TOURNAMENT_NUMBER == 11";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>

</div>
</div>
</div>
</div>
 

