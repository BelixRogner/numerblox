---

title: Download


keywords: fastai
sidebar: home_sidebar

summary: "Functionality to easily download data to your environment."
description: "Functionality to easily download data to your environment."
nb_path: "nbs/01_download.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/01_download.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="0.-BaseIO">0. BaseIO<a class="anchor-link" href="#0.-BaseIO"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There are common methods needed for <code>Downloaders</code> and <code>Submittors</code>. <a href="/numerbloxdownload.html#BaseIO"><code>BaseIO</code></a> implements this functionality and allows us to make abstract base classes. Namely, <a href="/numerbloxdownload.html#BaseDownloader"><code>BaseDownloader</code></a> and <a href="/numerbloxsubmission.html#BaseSubmitter"><code>BaseSubmitter</code></a> (implemented in <code>submission</code> section).</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="BaseIO" class="doc_header"><code>class</code> <code>BaseIO</code><a href="https://github.com/crowdcent/numerblox/tree/master/numerblox/download.py#L32" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>BaseIO</code>(<strong><code>directory_path</code></strong>:<code>str</code>) :: <code>ABC</code></p>
</blockquote>
<p>Basic functionality for IO (downloading and uploading).</p>
<p>:param directory_path: Base folder for IO. Will be created if it does not exist.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="e51854ef-8acc-489d-9386-5c1bbec723e5"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#e51854ef-8acc-489d-9386-5c1bbec723e5');

            setTimeout(function() {
                var nbb_cell_id = 5;
                var nbb_unformatted_code = "# export\n@typechecked\nclass BaseIO(ABC):\n    \"\"\"\n    Basic functionality for IO (downloading and uploading).\n\n    :param directory_path: Base folder for IO. Will be created if it does not exist.\n    \"\"\"\n    def __init__(self, directory_path: str):\n        self.dir = Path(directory_path)\n        self._create_directory()\n\n    def remove_base_directory(self):\n        \"\"\"Remove directory with all contents.\"\"\"\n        abs_path = self.dir.resolve()\n        rich_print(\n            f\":warning: [red]Deleting directory for '{self.__class__.__name__}[/red]' :warning:\\nPath: '{abs_path}'\"\n        )\n        shutil.rmtree(abs_path)\n\n    def download_file_from_gcs(self, bucket_name: str, gcs_path: str):\n        \"\"\"\n        Get file from GCS bucket and download to local directory.\n        :param gcs_path: Path to file on GCS bucket.\n        \"\"\"\n        blob_path = str(self.dir.resolve())\n        blob = self._get_gcs_blob(bucket_name=bucket_name, blob_path=blob_path)\n        blob.download_to_filename(gcs_path)\n        rich_print(\n            f\":cloud: :page_facing_up: Downloaded GCS object '{gcs_path}' from bucket '{blob.bucket.id}' to local directory '{blob_path}'. :page_facing_up: :cloud:\"\n        )\n\n    def upload_file_to_gcs(self, bucket_name: str, gcs_path: str, local_path: str):\n        \"\"\"\n        Upload file to some GCS bucket.\n        :param gcs_path: Path to file on GCS bucket.\n        \"\"\"\n        blob = self._get_gcs_blob(bucket_name=bucket_name, blob_path=gcs_path)\n        blob.upload_from_filename(local_path)\n        rich_print(\n            f\":cloud: :page_facing_up: Local file '{local_path}' uploaded to '{gcs_path}' in bucket {blob.bucket.id}:page_facing_up: :cloud:\"\n        )\n\n    def download_directory_from_gcs(self, bucket_name: str, gcs_path: str):\n        \"\"\"\n        Copy full directory from GCS bucket to local environment.\n        :param gcs_path: Name of directory on GCS bucket.\n        \"\"\"\n        blob_path = str(self.dir.resolve())\n        blob = self._get_gcs_blob(bucket_name=bucket_name, blob_path=blob_path)\n        for gcs_file in glob.glob(gcs_path + \"/**\", recursive=True):\n            if os.path.isfile(gcs_file):\n                blob.download_to_filename(blob_path)\n        rich_print(\n            f\":cloud: :folder: Directory '{gcs_path}' from bucket '{blob.bucket.id}' downloaded to '{blob_path}' :folder: :cloud:\"\n        )\n\n    def upload_directory_to_gcs(self, bucket_name: str, gcs_path: str):\n        \"\"\"\n        Upload full base directory to GCS bucket.\n        :param gcs_path: Name of directory on GCS bucket.\n        \"\"\"\n        blob = self._get_gcs_blob(bucket_name=bucket_name, blob_path=gcs_path)\n        for local_path in glob.glob(str(self.dir) + \"/**\", recursive=True):\n            if os.path.isfile(local_path):\n                blob.upload_from_filename(local_path)\n        rich_print(\n            f\":cloud: :folder: Directory '{self.dir}' uploaded to '{gcs_path}' in bucket {blob.bucket.id} :folder: :cloud:\"\n        )\n\n    def _get_gcs_blob(self, bucket_name: str, blob_path: str) -> storage.Blob:\n        \"\"\" Create blob that interacts with Google Cloud Storage (GCS). \"\"\"\n        client = storage.Client()\n        # https://console.cloud.google.com/storage/browser/[bucket_name]\n        bucket = client.get_bucket(bucket_name)\n        blob = bucket.blob(blob_path)\n        return blob\n\n    def _append_folder(self, folder: str) -> Path:\n        \"\"\"\n        Return base directory Path object appended with 'folder'.\n        Create directory if it does not exist.\n        \"\"\"\n        dir = Path(self.dir / folder)\n        dir.mkdir(parents=True, exist_ok=True)\n        return dir\n\n    def _create_directory(self):\n        \"\"\" Create base directory if it does not exist. \"\"\"\n        if not self.dir.is_dir():\n            rich_print(\n                f\"No existing directory found at '[blue]{self.dir}[/blue]'. Creating directory...\"\n            )\n            self.dir.mkdir(parents=True, exist_ok=True)\n\n    @property\n    def get_all_files(self) -> list:\n        \"\"\" Return all paths of contents in directory. \"\"\"\n        return list(self.dir.iterdir())\n\n    @property\n    def is_empty(self) -> bool:\n        \"\"\" Check if directory is empty. \"\"\"\n        return not bool(self.get_all_files)";
                var nbb_formatted_code = "# export\n@typechecked\nclass BaseIO(ABC):\n    \"\"\"\n    Basic functionality for IO (downloading and uploading).\n\n    :param directory_path: Base folder for IO. Will be created if it does not exist.\n    \"\"\"\n\n    def __init__(self, directory_path: str):\n        self.dir = Path(directory_path)\n        self._create_directory()\n\n    def remove_base_directory(self):\n        \"\"\"Remove directory with all contents.\"\"\"\n        abs_path = self.dir.resolve()\n        rich_print(\n            f\":warning: [red]Deleting directory for '{self.__class__.__name__}[/red]' :warning:\\nPath: '{abs_path}'\"\n        )\n        shutil.rmtree(abs_path)\n\n    def download_file_from_gcs(self, bucket_name: str, gcs_path: str):\n        \"\"\"\n        Get file from GCS bucket and download to local directory.\n        :param gcs_path: Path to file on GCS bucket.\n        \"\"\"\n        blob_path = str(self.dir.resolve())\n        blob = self._get_gcs_blob(bucket_name=bucket_name, blob_path=blob_path)\n        blob.download_to_filename(gcs_path)\n        rich_print(\n            f\":cloud: :page_facing_up: Downloaded GCS object '{gcs_path}' from bucket '{blob.bucket.id}' to local directory '{blob_path}'. :page_facing_up: :cloud:\"\n        )\n\n    def upload_file_to_gcs(self, bucket_name: str, gcs_path: str, local_path: str):\n        \"\"\"\n        Upload file to some GCS bucket.\n        :param gcs_path: Path to file on GCS bucket.\n        \"\"\"\n        blob = self._get_gcs_blob(bucket_name=bucket_name, blob_path=gcs_path)\n        blob.upload_from_filename(local_path)\n        rich_print(\n            f\":cloud: :page_facing_up: Local file '{local_path}' uploaded to '{gcs_path}' in bucket {blob.bucket.id}:page_facing_up: :cloud:\"\n        )\n\n    def download_directory_from_gcs(self, bucket_name: str, gcs_path: str):\n        \"\"\"\n        Copy full directory from GCS bucket to local environment.\n        :param gcs_path: Name of directory on GCS bucket.\n        \"\"\"\n        blob_path = str(self.dir.resolve())\n        blob = self._get_gcs_blob(bucket_name=bucket_name, blob_path=blob_path)\n        for gcs_file in glob.glob(gcs_path + \"/**\", recursive=True):\n            if os.path.isfile(gcs_file):\n                blob.download_to_filename(blob_path)\n        rich_print(\n            f\":cloud: :folder: Directory '{gcs_path}' from bucket '{blob.bucket.id}' downloaded to '{blob_path}' :folder: :cloud:\"\n        )\n\n    def upload_directory_to_gcs(self, bucket_name: str, gcs_path: str):\n        \"\"\"\n        Upload full base directory to GCS bucket.\n        :param gcs_path: Name of directory on GCS bucket.\n        \"\"\"\n        blob = self._get_gcs_blob(bucket_name=bucket_name, blob_path=gcs_path)\n        for local_path in glob.glob(str(self.dir) + \"/**\", recursive=True):\n            if os.path.isfile(local_path):\n                blob.upload_from_filename(local_path)\n        rich_print(\n            f\":cloud: :folder: Directory '{self.dir}' uploaded to '{gcs_path}' in bucket {blob.bucket.id} :folder: :cloud:\"\n        )\n\n    def _get_gcs_blob(self, bucket_name: str, blob_path: str) -> storage.Blob:\n        \"\"\"Create blob that interacts with Google Cloud Storage (GCS).\"\"\"\n        client = storage.Client()\n        # https://console.cloud.google.com/storage/browser/[bucket_name]\n        bucket = client.get_bucket(bucket_name)\n        blob = bucket.blob(blob_path)\n        return blob\n\n    def _append_folder(self, folder: str) -> Path:\n        \"\"\"\n        Return base directory Path object appended with 'folder'.\n        Create directory if it does not exist.\n        \"\"\"\n        dir = Path(self.dir / folder)\n        dir.mkdir(parents=True, exist_ok=True)\n        return dir\n\n    def _create_directory(self):\n        \"\"\"Create base directory if it does not exist.\"\"\"\n        if not self.dir.is_dir():\n            rich_print(\n                f\"No existing directory found at '[blue]{self.dir}[/blue]'. Creating directory...\"\n            )\n            self.dir.mkdir(parents=True, exist_ok=True)\n\n    @property\n    def get_all_files(self) -> list:\n        \"\"\"Return all paths of contents in directory.\"\"\"\n        return list(self.dir.iterdir())\n\n    @property\n    def is_empty(self) -> bool:\n        \"\"\"Check if directory is empty.\"\"\"\n        return not bool(self.get_all_files)";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="1.-BaseDownloader">1. BaseDownloader<a class="anchor-link" href="#1.-BaseDownloader"> </a></h2><p><a href="/numerbloxdownload.html#BaseDownloader"><code>BaseDownloader</code></a> is an object which implements logic common to all downloaders.</p>
<p>To implement a new Downloader, you should inherit from <a href="/numerbloxdownload.html#BaseDownloader"><code>BaseDownloader</code></a> and be sure to implement at least methods for <code>.download_training_data</code> and <code>.download_inference_data</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="BaseDownloader" class="doc_header"><code>class</code> <code>BaseDownloader</code><a href="https://github.com/crowdcent/numerblox/tree/master/numerblox/download.py#L138" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>BaseDownloader</code>(<strong><code>directory_path</code></strong>:<code>str</code>) :: <a href="/numerbloxdownload.html#BaseIO"><code>BaseIO</code></a></p>
</blockquote>
<p>Abstract base class for downloaders.</p>
<p>:param directory_path: Base folder to download files to.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="fa35dc66-e544-4666-8404-04e567742247"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#fa35dc66-e544-4666-8404-04e567742247');

            setTimeout(function() {
                var nbb_cell_id = 6;
                var nbb_unformatted_code = "# export\n@typechecked\nclass BaseDownloader(BaseIO):\n    \"\"\"\n    Abstract base class for downloaders.\n\n    :param directory_path: Base folder to download files to.\n    \"\"\"\n    def __init__(self, directory_path: str):\n        super().__init__(directory_path=directory_path)\n\n    @abstractmethod\n    def download_training_data(self, *args, **kwargs):\n        \"\"\" Download all necessary files needed for training. \"\"\"\n        ...\n\n    @abstractmethod\n    def download_inference_data(self, *args, **kwargs):\n        \"\"\" Download minimal amount of files needed for weekly inference. \"\"\"\n        ...\n\n    @staticmethod\n    def _load_json(file_path: str, verbose=False, *args, **kwargs) -> dict:\n        \"\"\" Load JSON from file and return as dictionary. \"\"\"\n        with open(Path(file_path)) as json_file:\n            json_data = json.load(json_file, *args, **kwargs)\n        if verbose:\n            rich_print(json_data)\n        return json_data\n\n    def __call__(self, *args, **kwargs):\n        \"\"\"\n        The most common use case will be to get weekly inference data. So calling the class itself returns inference data.\n        \"\"\"\n        self.download_inference_data(*args, **kwargs)";
                var nbb_formatted_code = "# export\n@typechecked\nclass BaseDownloader(BaseIO):\n    \"\"\"\n    Abstract base class for downloaders.\n\n    :param directory_path: Base folder to download files to.\n    \"\"\"\n\n    def __init__(self, directory_path: str):\n        super().__init__(directory_path=directory_path)\n\n    @abstractmethod\n    def download_training_data(self, *args, **kwargs):\n        \"\"\"Download all necessary files needed for training.\"\"\"\n        ...\n\n    @abstractmethod\n    def download_inference_data(self, *args, **kwargs):\n        \"\"\"Download minimal amount of files needed for weekly inference.\"\"\"\n        ...\n\n    @staticmethod\n    def _load_json(file_path: str, verbose=False, *args, **kwargs) -> dict:\n        \"\"\"Load JSON from file and return as dictionary.\"\"\"\n        with open(Path(file_path)) as json_file:\n            json_data = json.load(json_file, *args, **kwargs)\n        if verbose:\n            rich_print(json_data)\n        return json_data\n\n    def __call__(self, *args, **kwargs):\n        \"\"\"\n        The most common use case will be to get weekly inference data. So calling the class itself returns inference data.\n        \"\"\"\n        self.download_inference_data(*args, **kwargs)";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="2.-Numerai-Classic">2. Numerai Classic<a class="anchor-link" href="#2.-Numerai-Classic"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="NumeraiClassicDownloader" class="doc_header"><code>class</code> <code>NumeraiClassicDownloader</code><a href="https://github.com/crowdcent/numerblox/tree/master/numerblox/download.py#L173" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>NumeraiClassicDownloader</code>(<strong><code>directory_path</code></strong>:<code>str</code>, <strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>) :: <a href="/numerbloxdownload.html#BaseDownloader"><code>BaseDownloader</code></a></p>
</blockquote>
<p>WARNING: Versions 1 and 2 (legacy data) are deprecated. Only supporting version 3+.</p>
<p>Downloading from NumerAPI for Numerai Classic data.</p>
<p>:param directory_path: Base folder to download files to.</p>
<p>All *args, **kwargs will be passed to NumerAPI initialization.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="27f880db-ccf2-4931-a2a8-0685f020763a"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#27f880db-ccf2-4931-a2a8-0685f020763a');

            setTimeout(function() {
                var nbb_cell_id = 7;
                var nbb_unformatted_code = "# export\nclass NumeraiClassicDownloader(BaseDownloader):\n    \"\"\"\n    WARNING: Versions 1 and 2 (legacy data) are deprecated. Only supporting version 3+.\n\n    Downloading from NumerAPI for Numerai Classic data. \\n\n    :param directory_path: Base folder to download files to. \\n\n    All *args, **kwargs will be passed to NumerAPI initialization.\n    \"\"\"\n    def __init__(self, directory_path: str, *args, **kwargs):\n        super().__init__(directory_path=directory_path)\n        self.napi = NumerAPI(*args, **kwargs)\n        self.current_round = self.napi.get_current_round()\n        # NumerAPI filenames corresponding to version, class and data type\n        self.version_mapping = {\"3\": {\n            \"train\": {\n                \"int8\": [\n                    \"v3/numerai_training_data_int8.parquet\",\n                    \"v3/numerai_validation_data_int8.parquet\"\n                ],\n                \"float\": [\n                    \"v3/numerai_training_data.parquet\",\n                    \"v3/numerai_validation_data.parquet\"\n                ]\n            },\n            \"inference\": {\n                \"int8\": [\"v3/numerai_tournament_data_int8.parquet\"],\n                \"float\": [\"v3/numerai_tournament_data.parquet\"]\n            },\n            \"live\": {\n                \"int8\": [\"v3/numerai_live_data_int8.parquet\"],\n                \"float\": [\"v3/numerai_live_data.parquet\"]\n            },\n            \"example\": [\n                \"v3/example_predictions.parquet\",\n                \"v3/example_validation_predictions.parquet\"\n            ]\n        },\n            \"4\": {\n                \"train\": {\n                    \"int8\": [\n                        \"v4/train_int8.parquet\",\n                        \"v4/validation_int8.parquet\"\n                    ],\n                    \"float\": [\n                        \"v4/train.parquet\",\n                        \"v4/validation.parquet\"\n                    ]\n                },\n                \"inference\": {\n                    \"int8\": [\"v4/live_int8.parquet\"],\n                    \"float\": [\"v4/live.parquet\"]\n                },\n                \"live\": {\n                    \"int8\": [\"v4/live_int8.parquet\"],\n                    \"float\": [\"v4/live.parquet\"]\n                },\n                \"example\": [\n                    \"v4/live_example_preds.parquet\",\n                    \"v4/validation_example_preds.parquet\"\n                ]\n            }\n        }\n\n    def download_training_data(\n        self, subfolder: str = \"\", version: int = 4, int8: bool = False\n    ):\n        \"\"\"\n        Get Numerai classic training and validation data.\n        :param subfolder: Specify folder to create folder within base directory root.\n        Saves in base directory root by default.\n        :param version: Numerai dataset version (3=1050+ features dataset (parquet))\n        :param int8: Integer version of data\n        \"\"\"\n        data_type = \"int8\" if int8 else \"float\"\n        train_val_files = self._get_version_mapping(version)[\"train\"][data_type]\n        for file in train_val_files:\n            dest_path = self.__get_dest_path(subfolder, file)\n            self.download_single_dataset(\n                filename=file,\n                dest_path=dest_path\n            )\n\n    def download_inference_data(\n        self,\n        subfolder: str = \"\",\n        version: int = 4,\n        int8: bool = False,\n        round_num: int = None,\n    ):\n        \"\"\"\n        Get Numerai classic inference (tournament) data.\n        If only minimal live data is needed, consider .download_live_data.\n        :param subfolder: Specify folder to create folder within base directory root.\n        Saves in base directory root by default.\n        :param version: Numerai dataset version (2=super massive dataset (parquet))\n        :param int8: Integer version of data\n        :param round_num: Numerai tournament round number. Downloads latest round by default.\n        \"\"\"\n        data_type = \"int8\" if int8 else \"float\"\n        inference_files = self._get_version_mapping(version)[\"inference\"][data_type]\n        for file in inference_files:\n            dest_path = self.__get_dest_path(subfolder, file)\n            self.download_single_dataset(\n                filename=file,\n                dest_path=dest_path,\n                round_num=round_num\n            )\n\n    def download_single_dataset(\n        self, filename: str, dest_path: str, round_num: int = None\n    ):\n        \"\"\"\n        Download one of the available datasets through NumerAPI.\n\n        :param filename: Name as listed in NumerAPI (Check NumerAPI().list_datasets() for full overview)\n        :param dest_path: Full path where file will be saved.\n        :param round_num: Numerai tournament round number. Downloads latest round by default.\n        \"\"\"\n        rich_print(\n            f\":file_folder: [green]Downloading[/green] '{filename}' :file_folder:\"\n        )\n        self.napi.download_dataset(\n            filename=filename,\n            dest_path=dest_path,\n            round_num=round_num\n        )\n\n    def download_live_data(\n            self,\n            subfolder: str = \"\",\n            version: int = 4,\n            int8: bool = False,\n            round_num: int = None\n    ):\n        \"\"\"\n        Download all live data in specified folder for given version (i.e. minimal data needed for inference).\n\n        :param subfolder: Specify folder to create folder within directory root.\n        Saves in directory root by default.\n        :param version: Numerai dataset version (2=super massive dataset (parquet))\n        :param int8: Integer version of data\n        :param round_num: Numerai tournament round number. Downloads latest round by default.\n        \"\"\"\n        data_type = \"int8\" if int8 else \"float\"\n        live_files = self._get_version_mapping(version)[\"live\"][data_type]\n        for file in live_files:\n            dest_path = self.__get_dest_path(subfolder, file)\n            self.download_single_dataset(\n                filename=file,\n                dest_path=dest_path,\n                round_num=round_num\n            )\n\n    def download_example_data(\n        self, subfolder: str = \"\", version: int = 4, round_num: int = None\n    ):\n        \"\"\"\n        Download all example prediction data in specified folder for given version.\n\n        :param subfolder: Specify folder to create folder within base directory root.\n        Saves in base directory root by default.\n        :param version: Numerai dataset version (2=super massive dataset (parquet))\n        :param round_num: Numerai tournament round number. Downloads latest round by default.\n        \"\"\"\n        example_files = self._get_version_mapping(version)[\"example\"]\n        for file in example_files:\n            dest_path = self.__get_dest_path(subfolder, file)\n            self.download_single_dataset(\n                filename=file,\n                dest_path=dest_path,\n                round_num=round_num\n            )\n\n    def get_classic_features(self, subfolder: str = \"\", filename=\"v4/features.json\", *args, **kwargs) -> dict:\n        \"\"\"\n        Download feature overview (stats and feature sets) through NumerAPI and load as dict.\n        :param subfolder: Specify folder to create folder within base directory root.\n        Saves in base directory root by default.\n        :param filename: name for feature overview.\n        Currently defined as 'features.json' in NumerAPI and used as default.\n        *args, **kwargs will be passed to the JSON loader.\n        \"\"\"\n        dest_path = self.__get_dest_path(subfolder, filename)\n        self.download_single_dataset(filename=filename,\n                                     dest_path=dest_path)\n        json_data = self._load_json(dest_path, *args, **kwargs)\n        return json_data\n\n    def _get_version_mapping(self, version: int) -> dict:\n        \"\"\" Check if data version is supported and return file mapping for version. \"\"\"\n        try:\n            mapping_dictionary = self.version_mapping[str(version)]\n        except KeyError:\n            raise NotImplementedError(\n                f\"Version '{version}' is not available. Available versions are {list(self.version_mapping.keys())}\"\n            )\n        return mapping_dictionary\n\n    def __get_dest_path(self, subfolder: str, filename: str) -> str:\n        \"\"\" Prepare destination path for downloading. \"\"\"\n        dir = self._append_folder(subfolder)\n        dest_path = str(dir.joinpath(filename.split(\"/\")[-1]))\n        return dest_path";
                var nbb_formatted_code = "# export\nclass NumeraiClassicDownloader(BaseDownloader):\n    \"\"\"\n    WARNING: Versions 1 and 2 (legacy data) are deprecated. Only supporting version 3+.\n\n    Downloading from NumerAPI for Numerai Classic data. \\n\n    :param directory_path: Base folder to download files to. \\n\n    All *args, **kwargs will be passed to NumerAPI initialization.\n    \"\"\"\n\n    def __init__(self, directory_path: str, *args, **kwargs):\n        super().__init__(directory_path=directory_path)\n        self.napi = NumerAPI(*args, **kwargs)\n        self.current_round = self.napi.get_current_round()\n        # NumerAPI filenames corresponding to version, class and data type\n        self.version_mapping = {\n            \"3\": {\n                \"train\": {\n                    \"int8\": [\n                        \"v3/numerai_training_data_int8.parquet\",\n                        \"v3/numerai_validation_data_int8.parquet\",\n                    ],\n                    \"float\": [\n                        \"v3/numerai_training_data.parquet\",\n                        \"v3/numerai_validation_data.parquet\",\n                    ],\n                },\n                \"inference\": {\n                    \"int8\": [\"v3/numerai_tournament_data_int8.parquet\"],\n                    \"float\": [\"v3/numerai_tournament_data.parquet\"],\n                },\n                \"live\": {\n                    \"int8\": [\"v3/numerai_live_data_int8.parquet\"],\n                    \"float\": [\"v3/numerai_live_data.parquet\"],\n                },\n                \"example\": [\n                    \"v3/example_predictions.parquet\",\n                    \"v3/example_validation_predictions.parquet\",\n                ],\n            },\n            \"4\": {\n                \"train\": {\n                    \"int8\": [\"v4/train_int8.parquet\", \"v4/validation_int8.parquet\"],\n                    \"float\": [\"v4/train.parquet\", \"v4/validation.parquet\"],\n                },\n                \"inference\": {\n                    \"int8\": [\"v4/live_int8.parquet\"],\n                    \"float\": [\"v4/live.parquet\"],\n                },\n                \"live\": {\n                    \"int8\": [\"v4/live_int8.parquet\"],\n                    \"float\": [\"v4/live.parquet\"],\n                },\n                \"example\": [\n                    \"v4/live_example_preds.parquet\",\n                    \"v4/validation_example_preds.parquet\",\n                ],\n            },\n        }\n\n    def download_training_data(\n        self, subfolder: str = \"\", version: int = 4, int8: bool = False\n    ):\n        \"\"\"\n        Get Numerai classic training and validation data.\n        :param subfolder: Specify folder to create folder within base directory root.\n        Saves in base directory root by default.\n        :param version: Numerai dataset version (3=1050+ features dataset (parquet))\n        :param int8: Integer version of data\n        \"\"\"\n        data_type = \"int8\" if int8 else \"float\"\n        train_val_files = self._get_version_mapping(version)[\"train\"][data_type]\n        for file in train_val_files:\n            dest_path = self.__get_dest_path(subfolder, file)\n            self.download_single_dataset(filename=file, dest_path=dest_path)\n\n    def download_inference_data(\n        self,\n        subfolder: str = \"\",\n        version: int = 4,\n        int8: bool = False,\n        round_num: int = None,\n    ):\n        \"\"\"\n        Get Numerai classic inference (tournament) data.\n        If only minimal live data is needed, consider .download_live_data.\n        :param subfolder: Specify folder to create folder within base directory root.\n        Saves in base directory root by default.\n        :param version: Numerai dataset version (2=super massive dataset (parquet))\n        :param int8: Integer version of data\n        :param round_num: Numerai tournament round number. Downloads latest round by default.\n        \"\"\"\n        data_type = \"int8\" if int8 else \"float\"\n        inference_files = self._get_version_mapping(version)[\"inference\"][data_type]\n        for file in inference_files:\n            dest_path = self.__get_dest_path(subfolder, file)\n            self.download_single_dataset(\n                filename=file, dest_path=dest_path, round_num=round_num\n            )\n\n    def download_single_dataset(\n        self, filename: str, dest_path: str, round_num: int = None\n    ):\n        \"\"\"\n        Download one of the available datasets through NumerAPI.\n\n        :param filename: Name as listed in NumerAPI (Check NumerAPI().list_datasets() for full overview)\n        :param dest_path: Full path where file will be saved.\n        :param round_num: Numerai tournament round number. Downloads latest round by default.\n        \"\"\"\n        rich_print(\n            f\":file_folder: [green]Downloading[/green] '{filename}' :file_folder:\"\n        )\n        self.napi.download_dataset(\n            filename=filename, dest_path=dest_path, round_num=round_num\n        )\n\n    def download_live_data(\n        self,\n        subfolder: str = \"\",\n        version: int = 4,\n        int8: bool = False,\n        round_num: int = None,\n    ):\n        \"\"\"\n        Download all live data in specified folder for given version (i.e. minimal data needed for inference).\n\n        :param subfolder: Specify folder to create folder within directory root.\n        Saves in directory root by default.\n        :param version: Numerai dataset version (2=super massive dataset (parquet))\n        :param int8: Integer version of data\n        :param round_num: Numerai tournament round number. Downloads latest round by default.\n        \"\"\"\n        data_type = \"int8\" if int8 else \"float\"\n        live_files = self._get_version_mapping(version)[\"live\"][data_type]\n        for file in live_files:\n            dest_path = self.__get_dest_path(subfolder, file)\n            self.download_single_dataset(\n                filename=file, dest_path=dest_path, round_num=round_num\n            )\n\n    def download_example_data(\n        self, subfolder: str = \"\", version: int = 4, round_num: int = None\n    ):\n        \"\"\"\n        Download all example prediction data in specified folder for given version.\n\n        :param subfolder: Specify folder to create folder within base directory root.\n        Saves in base directory root by default.\n        :param version: Numerai dataset version (2=super massive dataset (parquet))\n        :param round_num: Numerai tournament round number. Downloads latest round by default.\n        \"\"\"\n        example_files = self._get_version_mapping(version)[\"example\"]\n        for file in example_files:\n            dest_path = self.__get_dest_path(subfolder, file)\n            self.download_single_dataset(\n                filename=file, dest_path=dest_path, round_num=round_num\n            )\n\n    def get_classic_features(\n        self, subfolder: str = \"\", filename=\"v4/features.json\", *args, **kwargs\n    ) -> dict:\n        \"\"\"\n        Download feature overview (stats and feature sets) through NumerAPI and load as dict.\n        :param subfolder: Specify folder to create folder within base directory root.\n        Saves in base directory root by default.\n        :param filename: name for feature overview.\n        Currently defined as 'features.json' in NumerAPI and used as default.\n        *args, **kwargs will be passed to the JSON loader.\n        \"\"\"\n        dest_path = self.__get_dest_path(subfolder, filename)\n        self.download_single_dataset(filename=filename, dest_path=dest_path)\n        json_data = self._load_json(dest_path, *args, **kwargs)\n        return json_data\n\n    def _get_version_mapping(self, version: int) -> dict:\n        \"\"\"Check if data version is supported and return file mapping for version.\"\"\"\n        try:\n            mapping_dictionary = self.version_mapping[str(version)]\n        except KeyError:\n            raise NotImplementedError(\n                f\"Version '{version}' is not available. Available versions are {list(self.version_mapping.keys())}\"\n            )\n        return mapping_dictionary\n\n    def __get_dest_path(self, subfolder: str, filename: str) -> str:\n        \"\"\"Prepare destination path for downloading.\"\"\"\n        dir = self._append_folder(subfolder)\n        dest_path = str(dir.joinpath(filename.split(\"/\")[-1]))\n        return dest_path";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="2.1.-Example-usage">2.1. Example usage<a class="anchor-link" href="#2.1.-Example-usage"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This section will explain how to quickly get started with <a href="/numerbloxdownload.html#NumeraiClassicDownloader"><code>NumeraiClassicDownloader</code></a>.</p>
<p>The more advanced use case of working with GCS (Google Cloud Storage) is discussed in <code>edu_nbs/google_cloud_storage.ipynb</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="2.1.1.-Training-data">2.1.1. Training data<a class="anchor-link" href="#2.1.1.-Training-data"> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Training + validation data for Numerai Classic can be downloaded with effectively 2 lines of code.
Feature stats and overview can be downloaded with <code>.get_classic_features()</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Initialization</span>
<span class="n">train_base_directory</span> <span class="o">=</span> <span class="s2">&quot;test_numclassic_train&quot;</span>
<span class="n">numer_classic_downloader</span> <span class="o">=</span> <span class="n">NumeraiClassicDownloader</span><span class="p">(</span><span class="n">train_base_directory</span><span class="p">)</span>

<span class="c1"># Uncomment line below to download training and validation data</span>
<span class="c1"># numer_classic_downloader.download_training_data(&quot;train_val&quot;, int8=False)</span>

<span class="c1"># Get feature overview (dict)</span>
<span class="n">numer_classic_downloader</span><span class="o">.</span><span class="n">get_classic_features</span><span class="p">()</span>

<span class="c1"># Remove contents (To clean up environment)</span>
<span class="n">numer_classic_downloader</span><span class="o">.</span><span class="n">remove_base_directory</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">No existing directory found at <span style="color: #008000; text-decoration-color: #008000">'</span><span style="color: #000080; text-decoration-color: #000080">test_numclassic_train</span><span style="color: #008000; text-decoration-color: #008000">'</span>. Creating directory<span style="color: #808000; text-decoration-color: #808000">...</span>
</pre>

</div>

</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">📁 <span style="color: #008000; text-decoration-color: #008000">Downloading</span> <span style="color: #008000; text-decoration-color: #008000">'v4/features.json'</span> 📁
</pre>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2022-04-27 15:26:08,666 INFO numerapi.utils: starting download
test_numclassic_train/features.json: 562kB [00:00, 748kB/s]                             
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">⚠ <span style="color: #800000; text-decoration-color: #800000">Deleting directory for </span><span style="color: #800000; text-decoration-color: #800000">'NumeraiClassicDownloader</span><span style="color: #008000; text-decoration-color: #008000">'</span> ⚠
Path: 
<span style="color: #008000; text-decoration-color: #008000">'/Users/clepelaars/Desktop/crowdcent/repositories/numerai-blocks/nbs/test_numclassic_train'</span>
</pre>

</div>

</div>

<div class="output_area">




<div id="b141e428-c848-4bf7-94ea-f820298e711b"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#b141e428-c848-4bf7-94ea-f820298e711b');

            setTimeout(function() {
                var nbb_cell_id = 9;
                var nbb_unformatted_code = "# slow\n# Initialization\ntrain_base_directory = \"test_numclassic_train\"\nnumer_classic_downloader = NumeraiClassicDownloader(train_base_directory)\n\n# Uncomment line below to download training and validation data\n# numer_classic_downloader.download_training_data(\"train_val\", int8=False)\n\n# Get feature overview (dict)\nnumer_classic_downloader.get_classic_features()\n\n# Remove contents (To clean up environment)\nnumer_classic_downloader.remove_base_directory()";
                var nbb_formatted_code = "# slow\n# Initialization\ntrain_base_directory = \"test_numclassic_train\"\nnumer_classic_downloader = NumeraiClassicDownloader(train_base_directory)\n\n# Uncomment line below to download training and validation data\n# numer_classic_downloader.download_training_data(\"train_val\", int8=False)\n\n# Get feature overview (dict)\nnumer_classic_downloader.get_classic_features()\n\n# Remove contents (To clean up environment)\nnumer_classic_downloader.remove_base_directory()";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>For the training example the directory structure will be:</strong></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">📁 test_numclassic_train (base_directory)                                                           
<span style="color: #808080; text-decoration-color: #808080">┣━━ </span>📄 features.json                                                                                
<span style="color: #808080; text-decoration-color: #808080">┗━━ </span>📁 train_val                                                                                    
<span style="color: #808080; text-decoration-color: #808080">    ┣━━ </span>📄 numerai_training_data.parquet                                                            
<span style="color: #808080; text-decoration-color: #808080">    ┗━━ </span>📄 numerai_validation_data.parquet                                                          
</pre>

</div>

</div>

<div class="output_area">




<div id="cdbba4fd-5fab-4825-84f6-4c6716f667ed"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#cdbba4fd-5fab-4825-84f6-4c6716f667ed');

            setTimeout(function() {
                var nbb_cell_id = 10;
                var nbb_unformatted_code = "# hide_input\nconsole = Console(record=True, width=100)\n\ntree = Tree(\n    f\":file_folder: {train_base_directory} (base_directory)\",\n    guide_style=\"bold bright_black\",\n)\nfolder_tree = tree.add(\":page_facing_up: features.json\")\ntrain_val_tree = tree.add(\":file_folder: train_val\")\ntrain_val_tree.add(\":page_facing_up: numerai_training_data.parquet\")\ntrain_val_tree.add(\":page_facing_up: numerai_validation_data.parquet\")\n\nconsole.print(tree)";
                var nbb_formatted_code = "# hide_input\nconsole = Console(record=True, width=100)\n\ntree = Tree(\n    f\":file_folder: {train_base_directory} (base_directory)\",\n    guide_style=\"bold bright_black\",\n)\nfolder_tree = tree.add(\":page_facing_up: features.json\")\ntrain_val_tree = tree.add(\":file_folder: train_val\")\ntrain_val_tree.add(\":page_facing_up: numerai_training_data.parquet\")\ntrain_val_tree.add(\":page_facing_up: numerai_validation_data.parquet\")\n\nconsole.print(tree)";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="2.1.2.-Inference-data">2.1.2. Inference data<a class="anchor-link" href="#2.1.2.-Inference-data"> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Inference data for the most recent round of Numerai Classic can be downloaded with effectively 2 lines of code.
It can also easily be deleted after you are done with inference by calling <code>.remove_base_directory</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Initialization</span>
<span class="n">inference_base_dir</span> <span class="o">=</span> <span class="s2">&quot;test_numclassic_inference&quot;</span>
<span class="n">numer_classic_downloader</span> <span class="o">=</span> <span class="n">NumeraiClassicDownloader</span><span class="p">(</span><span class="n">directory_path</span><span class="o">=</span><span class="n">inference_base_dir</span><span class="p">)</span>

<span class="c1"># Download tournament (inference) data</span>
<span class="n">numer_classic_downloader</span><span class="o">.</span><span class="n">download_inference_data</span><span class="p">(</span><span class="s2">&quot;inference&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">int8</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Remove folder when done with inference</span>
<span class="n">numer_classic_downloader</span><span class="o">.</span><span class="n">remove_base_directory</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">No existing directory found at <span style="color: #008000; text-decoration-color: #008000">'</span><span style="color: #000080; text-decoration-color: #000080">test_numclassic_inference</span><span style="color: #008000; text-decoration-color: #008000">'</span>. Creating directory<span style="color: #808000; text-decoration-color: #808000">...</span>
</pre>

</div>

</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">📁 <span style="color: #008000; text-decoration-color: #008000">Downloading</span> <span style="color: #008000; text-decoration-color: #008000">'v4/live_int8.parquet'</span> 📁
</pre>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2022-04-27 15:26:11,230 INFO numerapi.utils: starting download
test_numclassic_inference/inference/live_int8.parquet: 3.55MB [00:03, 1.11MB/s]                            
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">⚠ <span style="color: #800000; text-decoration-color: #800000">Deleting directory for </span><span style="color: #800000; text-decoration-color: #800000">'NumeraiClassicDownloader</span><span style="color: #008000; text-decoration-color: #008000">'</span> ⚠
Path: <span style="color: #008000; text-decoration-color: #008000">'/Users/clepelaars/Desktop/crowdcent/repositories/numerai-blocks/nbs/test_numclassic_in</span>
<span style="color: #008000; text-decoration-color: #008000">ference'</span>
</pre>

</div>

</div>

<div class="output_area">




<div id="c554b06f-836a-42f1-bbf9-561ff37c8153"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#c554b06f-836a-42f1-bbf9-561ff37c8153');

            setTimeout(function() {
                var nbb_cell_id = 11;
                var nbb_unformatted_code = "# slow\n# Initialization\ninference_base_dir = \"test_numclassic_inference\"\nnumer_classic_downloader = NumeraiClassicDownloader(directory_path=inference_base_dir)\n\n# Download tournament (inference) data\nnumer_classic_downloader.download_inference_data(\"inference\", version=4, int8=True)\n\n# Remove folder when done with inference\nnumer_classic_downloader.remove_base_directory()";
                var nbb_formatted_code = "# slow\n# Initialization\ninference_base_dir = \"test_numclassic_inference\"\nnumer_classic_downloader = NumeraiClassicDownloader(directory_path=inference_base_dir)\n\n# Download tournament (inference) data\nnumer_classic_downloader.download_inference_data(\"inference\", version=4, int8=True)\n\n# Remove folder when done with inference\nnumer_classic_downloader.remove_base_directory()";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>For the inference example the directory structure will be:</strong></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">📁 test_numclassic_inference (base_directory)                                                       
<span style="color: #808080; text-decoration-color: #808080">┗━━ </span>📁 inference                                                                                    
<span style="color: #808080; text-decoration-color: #808080">    ┗━━ </span>📄 numerai_tournament_data.parquet                                                          
</pre>

</div>

</div>

<div class="output_area">




<div id="e5880873-0432-4fd8-b822-485ab25e7569"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#e5880873-0432-4fd8-b822-485ab25e7569');

            setTimeout(function() {
                var nbb_cell_id = 12;
                var nbb_unformatted_code = "# hide_input\nconsole = Console(record=True, width=100)\n\ntree = Tree(\n    f\":file_folder: {inference_base_dir} (base_directory)\",\n    guide_style=\"bold bright_black\",\n)\ninference_tree = tree.add(\":file_folder: inference\")\ninference_tree.add(\":page_facing_up: numerai_tournament_data.parquet\")\n\nconsole.print(tree)";
                var nbb_formatted_code = "# hide_input\nconsole = Console(record=True, width=100)\n\ntree = Tree(\n    f\":file_folder: {inference_base_dir} (base_directory)\",\n    guide_style=\"bold bright_black\",\n)\ninference_tree = tree.add(\":file_folder: inference\")\ninference_tree.add(\":page_facing_up: numerai_tournament_data.parquet\")\n\nconsole.print(tree)";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="3.-KaggleDownloader-(Numerai-Signals)">3. KaggleDownloader (Numerai Signals)<a class="anchor-link" href="#3.-KaggleDownloader-(Numerai-Signals)"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The Numerai community maintains some excellent datasets on Kaggle for Numerai Signals.</p>
<p>For example, <a href="https://www.kaggle.com/code1110">Katsu1110</a> maintains a <a href="https://www.kaggle.com/code1110/yfinance-stock-price-data-for-numerai-signals">dataset with yfinance price data</a> on Kaggle that is updated daily. <a href="/numerbloxdownload.html#KaggleDownloader"><code>KaggleDownloader</code></a> allows you to easily pull data through the Kaggle API. We will be using this dataset in an example below.</p>
<p>In this case, <code>download_inference_data</code> and <code>download_training_data</code> have the same functionality as we can't make the distinction beforehand for an arbitrary dataset on Kaggle.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="KaggleDownloader" class="doc_header"><code>class</code> <code>KaggleDownloader</code><a href="https://github.com/crowdcent/numerblox/tree/master/numerblox/download.py#L378" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>KaggleDownloader</code>(<strong><code>directory_path</code></strong>:<code>str</code>) :: <a href="/numerbloxdownload.html#BaseDownloader"><code>BaseDownloader</code></a></p>
</blockquote>
<p>Download awesome financial data from Kaggle.</p>
<p>For authentication, make sure you have a directory called .kaggle in your home directory
with therein a kaggle.json file. kaggle.json should have the following structure:</p>
<p><code>{"username": USERNAME, "key": KAGGLE_API_KEY}</code></p>
<p>More info on authentication: github.com/Kaggle/kaggle-api#api-credentials</p>
<p>More info on the Kaggle Python API: kaggle.com/donkeys/kaggle-python-api</p>
<p>:param directory_path: Base folder to download files to.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="116b6a7b-2da2-42ff-8ba7-967f44f521d3"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#116b6a7b-2da2-42ff-8ba7-967f44f521d3');

            setTimeout(function() {
                var nbb_cell_id = 13;
                var nbb_unformatted_code = "# export\nclass KaggleDownloader(BaseDownloader):\n    \"\"\"\n    Download awesome financial data from Kaggle.\n\n    For authentication, make sure you have a directory called .kaggle in your home directory\n    with therein a kaggle.json file. kaggle.json should have the following structure: \\n\n    `{\"username\": USERNAME, \"key\": KAGGLE_API_KEY}` \\n\n    More info on authentication: github.com/Kaggle/kaggle-api#api-credentials \\n\n\n    More info on the Kaggle Python API: kaggle.com/donkeys/kaggle-python-api \\n\n\n    :param directory_path: Base folder to download files to.\n    \"\"\"\n    def __init__(self, directory_path: str):\n        self.__check_kaggle_import()\n        super().__init__(directory_path=directory_path)\n\n    def download_inference_data(self, kaggle_dataset_path: str):\n        \"\"\"\n        Download arbitrary Kaggle dataset.\n        :param kaggle_dataset_path: Path on Kaggle (URL slug on kaggle.com/)\n        \"\"\"\n        self.download_training_data(kaggle_dataset_path)\n\n    def download_training_data(self, kaggle_dataset_path: str):\n        \"\"\"\n        Download arbitrary Kaggle dataset.\n        :param kaggle_dataset_path: Path on Kaggle (URL slug on kaggle.com/)\n        \"\"\"\n        import kaggle\n        kaggle.api.dataset_download_files(kaggle_dataset_path,\n                                          path=self.dir, unzip=True)\n\n    @staticmethod\n    def __check_kaggle_import():\n        try:\n            import kaggle\n        except OSError:\n            raise OSError(\"Could not find kaggle.json credentials. Make sure it's located in /home/runner/.kaggle. Or use the environment method. Check github.com/Kaggle/kaggle-api#api-credentials for more information on authentication.\")";
                var nbb_formatted_code = "# export\nclass KaggleDownloader(BaseDownloader):\n    \"\"\"\n    Download awesome financial data from Kaggle.\n\n    For authentication, make sure you have a directory called .kaggle in your home directory\n    with therein a kaggle.json file. kaggle.json should have the following structure: \\n\n    `{\"username\": USERNAME, \"key\": KAGGLE_API_KEY}` \\n\n    More info on authentication: github.com/Kaggle/kaggle-api#api-credentials \\n\n\n    More info on the Kaggle Python API: kaggle.com/donkeys/kaggle-python-api \\n\n\n    :param directory_path: Base folder to download files to.\n    \"\"\"\n\n    def __init__(self, directory_path: str):\n        self.__check_kaggle_import()\n        super().__init__(directory_path=directory_path)\n\n    def download_inference_data(self, kaggle_dataset_path: str):\n        \"\"\"\n        Download arbitrary Kaggle dataset.\n        :param kaggle_dataset_path: Path on Kaggle (URL slug on kaggle.com/)\n        \"\"\"\n        self.download_training_data(kaggle_dataset_path)\n\n    def download_training_data(self, kaggle_dataset_path: str):\n        \"\"\"\n        Download arbitrary Kaggle dataset.\n        :param kaggle_dataset_path: Path on Kaggle (URL slug on kaggle.com/)\n        \"\"\"\n        import kaggle\n\n        kaggle.api.dataset_download_files(\n            kaggle_dataset_path, path=self.dir, unzip=True\n        )\n\n    @staticmethod\n    def __check_kaggle_import():\n        try:\n            import kaggle\n        except OSError:\n            raise OSError(\n                \"Could not find kaggle.json credentials. Make sure it's located in /home/runner/.kaggle. Or use the environment method. Check github.com/Kaggle/kaggle-api#api-credentials for more information on authentication.\"\n            )";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The link to Katsu1110's yfinance price dataset is <a href="https://www.kaggle.com/code1110/yfinance-stock-price-data-for-numerai-signals">https://www.kaggle.com/code1110/yfinance-stock-price-data-for-numerai-signals</a>. In <code>.download_training_data</code> we define the slug after kaggle.com (<code>code1110/yfinance-stock-price-data-for-numerai-signals</code>) as an argument. The full Kaggle dataset is downloaded and unzipped.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">home_directory</span> <span class="o">=</span> <span class="s2">&quot;test_kaggle_downloader&quot;</span>
<span class="n">kd</span> <span class="o">=</span> <span class="n">KaggleDownloader</span><span class="p">(</span><span class="n">home_directory</span><span class="p">)</span>
<span class="n">kd</span><span class="o">.</span><span class="n">download_training_data</span><span class="p">(</span><span class="s2">&quot;code1110/yfinance-stock-price-data-for-numerai-signals&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">No existing directory found at <span style="color: #008000; text-decoration-color: #008000">'</span><span style="color: #000080; text-decoration-color: #000080">test_kaggle_downloader</span><span style="color: #008000; text-decoration-color: #008000">'</span>. Creating directory<span style="color: #808000; text-decoration-color: #808000">...</span>
</pre>

</div>

</div>

<div class="output_area">




<div id="16119f21-c24c-4c26-a25a-a1c9eebd55a5"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#16119f21-c24c-4c26-a25a-a1c9eebd55a5');

            setTimeout(function() {
                var nbb_cell_id = 14;
                var nbb_unformatted_code = "# other\nhome_directory = \"test_kaggle_downloader\"\nkd = KaggleDownloader(home_directory)\nkd.download_training_data(\"code1110/yfinance-stock-price-data-for-numerai-signals\")";
                var nbb_formatted_code = "# other\nhome_directory = \"test_kaggle_downloader\"\nkd = KaggleDownloader(home_directory)\nkd.download_training_data(\"code1110/yfinance-stock-price-data-for-numerai-signals\")";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This Kaggle dataset contains one file called <code>"full_data.parquet"</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">kd</span><span class="o">.</span><span class="n">dir</span><span class="o">.</span><span class="n">iterdir</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[Path(&#39;test_kaggle_downloader/full_data.parquet&#39;)]</pre>
</div>

</div>

<div class="output_area">




<div id="bf65e082-0427-4f4b-99b9-83deecd48965"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#bf65e082-0427-4f4b-99b9-83deecd48965');

            setTimeout(function() {
                var nbb_cell_id = 15;
                var nbb_unformatted_code = "# other\nlist(kd.dir.iterdir())";
                var nbb_formatted_code = "# other\nlist(kd.dir.iterdir())";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_parquet</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">home_directory</span><span class="si">}</span><span class="s2">/full_data.parquet&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>ticker</th>
      <th>close</th>
      <th>raw_close</th>
      <th>high</th>
      <th>low</th>
      <th>open</th>
      <th>volume</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>20020103</td>
      <td>000060 KS</td>
      <td>1.561781</td>
      <td>1248.795166</td>
      <td>1248.795166</td>
      <td>1248.795166</td>
      <td>1248.795166</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>20020103</td>
      <td>000080 KS</td>
      <td>2338.192627</td>
      <td>3270.000000</td>
      <td>3270.000000</td>
      <td>3270.000000</td>
      <td>3270.000000</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

<div class="output_area">




<div id="0f13211a-511c-4297-86df-cec57cc0b0b8"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#0f13211a-511c-4297-86df-cec57cc0b0b8');

            setTimeout(function() {
                var nbb_cell_id = 16;
                var nbb_unformatted_code = "# other\ndf = pd.read_parquet(f\"{home_directory}/full_data.parquet\")\ndf.head(2)";
                var nbb_formatted_code = "# other\ndf = pd.read_parquet(f\"{home_directory}/full_data.parquet\")\ndf.head(2)";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Folder can be cleaned up when done with inference.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">kd</span><span class="o">.</span><span class="n">remove_base_directory</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">⚠ <span style="color: #800000; text-decoration-color: #800000">Deleting directory for </span><span style="color: #800000; text-decoration-color: #800000">'KaggleDownloader</span><span style="color: #008000; text-decoration-color: #008000">'</span> ⚠
Path: 
<span style="color: #008000; text-decoration-color: #008000">'/Users/clepelaars/Desktop/crowdcent/repositories/numerai-blocks/nbs/test_kaggle_downloader'</span>
</pre>

</div>

</div>

<div class="output_area">




<div id="a606e07c-4e8c-4e65-8989-18cc23d6af28"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#a606e07c-4e8c-4e65-8989-18cc23d6af28');

            setTimeout(function() {
                var nbb_cell_id = 17;
                var nbb_unformatted_code = "# other\nkd.remove_base_directory()";
                var nbb_formatted_code = "# other\nkd.remove_base_directory()";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="4.-Pandas-Datareader">4. Pandas Datareader<a class="anchor-link" href="#4.-Pandas-Datareader"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="https://pydata.github.io/pandas-datareader/stable/readers/index.html">pandas-datareader</a> is a library maintained by pydata. It offers several backends to directly retrieve data, including <a href="https://finance.yahoo.com/">Yahoo! Finance</a> and <a href="https://fred.stlouisfed.org/">FRED database</a>. Our <a href="/numerbloxdownload.html#PandasDataReader"><code>PandasDataReader</code></a> object simplifies pulling training, inference and live data for Numerai Signals pipelines.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="PandasDataReader" class="doc_header"><code>class</code> <code>PandasDataReader</code><a href="https://github.com/crowdcent/numerblox/tree/master/numerblox/download.py#L419" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>PandasDataReader</code>(<strong><code>directory_path</code></strong>:<code>str</code>, <strong><code>tickers</code></strong>:<code>list</code>, <strong><code>backend</code></strong>:<code>str</code>=<em><code>'yahoo'</code></em>) :: <a href="/numerbloxdownload.html#BaseDownloader"><code>BaseDownloader</code></a></p>
</blockquote>
<p>Download financial data using Pandas Datareader.</p>
<p>:param directory_path: Base folder to download files to.</p>
<p>:param tickers: list of tickers used for downloading.</p>
<p>:param backend: Data provider you want to use. Yahoo Finance by default.</p>
<p>Check pydata.github.io/pandas-datareader/stable/readers/index.html to see all data readers.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="b2810e10-af2c-45d0-96ac-7e05e648e025"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#b2810e10-af2c-45d0-96ac-7e05e648e025');

            setTimeout(function() {
                var nbb_cell_id = 18;
                var nbb_unformatted_code = "# export\nclass PandasDataReader(BaseDownloader):\n    \"\"\"\n    Download financial data using Pandas Datareader.\n\n    :param directory_path: Base folder to download files to. \\n\n    :param tickers: list of tickers used for downloading. \\n\n    :param backend: Data provider you want to use. Yahoo Finance by default. \\n\n    Check pydata.github.io/pandas-datareader/stable/readers/index.html to see all data readers.\n    \"\"\"\n    def __init__(self, directory_path: str, tickers: list, backend: str = 'yahoo'):\n        super().__init__(directory_path=directory_path)\n        self.tickers = tickers\n        self.backend = backend\n        self.current_time = dt.now()\n\n    def download_inference_data(self, save_path: str = None, *args, **kwargs):\n        \"\"\" Download a year of data. \"\"\"\n        start = self.current_time - relativedelta(years=1)\n        dataf = self._get_all_ticker_data(start=start, *args, **kwargs)\n        save_path = save_path if save_path else self.__format_default_save_path(start)\n        dataf.to_parquet(save_path)\n\n    def download_training_data(self, start: dt, save_path: str = None, *args, **kwargs):\n        \"\"\"\n        Download full training dataset with given start_date.\n        :param start: datetime object defining starting date.\n        :param save_path: Path for Parquet file.\n        \"\"\"\n        dataf = self._get_all_ticker_data(start=start, *args, **kwargs)\n        save_path = save_path if save_path else self.__format_default_save_path(start)\n        dataf.to_parquet(save_path)\n\n    def download_live_data(self, save_path: str = None, *args, **kwargs):\n        \"\"\" Download a month of data. \"\"\"\n        start = self.current_time - relativedelta(months=1)\n        save_path = save_path if save_path else self.__format_default_save_path(start)\n        dataf = self.get_live_data(*args, **kwargs)\n        dataf.to_parquet(save_path)\n\n    def get_live_data(self, *args, **kwargs) -> NumerFrame:\n        \"\"\" Get a month of data as DataFrame. \"\"\"\n        start = self.current_time - relativedelta(months=1)\n        return NumerFrame(self._get_all_ticker_data(start=start, *args, **kwargs))\n\n    def _get_all_ticker_data(self, start: dt, *args, **kwargs) -> pd.DataFrame:\n        \"\"\"\n        Get data for all tickers defined in class using given starting date.\n        :param start: datetime object defining starting date.\n        \"\"\"\n        func = partial(self.__get_ticker_data, start=start)\n        results = []\n        for tick in tqdm(self.tickers):\n            try:\n                res = func(ticker=tick, *args, **kwargs)\n            except RemoteDataError:\n                rich_print(f\":warning: WARNING: No data found for ticker: [red]'{tick}'[/red]. :warning:\")\n                continue\n            results.append(res)\n        dataf = pd.concat(results)\n        return dataf\n\n    def __get_ticker_data(self, ticker: str, start: dt, *args, **kwargs) -> pd.DataFrame:\n        dataf = web.DataReader(ticker, self.backend, start, self.current_time, *args, **kwargs)\n        dataf['ticker'] = ticker\n        dataf.index.names = ['date']\n        dataf = dataf.reset_index(drop=False)\n        return dataf\n\n    def __format_default_save_path(self, start: dt):\n        return f\"{self.dir}/{self.backend}_{start.strftime('%Y%m%d')}_{self.current_time.strftime('%Y%m%d')}.parquet\"";
                var nbb_formatted_code = "# export\nclass PandasDataReader(BaseDownloader):\n    \"\"\"\n    Download financial data using Pandas Datareader.\n\n    :param directory_path: Base folder to download files to. \\n\n    :param tickers: list of tickers used for downloading. \\n\n    :param backend: Data provider you want to use. Yahoo Finance by default. \\n\n    Check pydata.github.io/pandas-datareader/stable/readers/index.html to see all data readers.\n    \"\"\"\n\n    def __init__(self, directory_path: str, tickers: list, backend: str = \"yahoo\"):\n        super().__init__(directory_path=directory_path)\n        self.tickers = tickers\n        self.backend = backend\n        self.current_time = dt.now()\n\n    def download_inference_data(self, save_path: str = None, *args, **kwargs):\n        \"\"\"Download a year of data.\"\"\"\n        start = self.current_time - relativedelta(years=1)\n        dataf = self._get_all_ticker_data(start=start, *args, **kwargs)\n        save_path = save_path if save_path else self.__format_default_save_path(start)\n        dataf.to_parquet(save_path)\n\n    def download_training_data(self, start: dt, save_path: str = None, *args, **kwargs):\n        \"\"\"\n        Download full training dataset with given start_date.\n        :param start: datetime object defining starting date.\n        :param save_path: Path for Parquet file.\n        \"\"\"\n        dataf = self._get_all_ticker_data(start=start, *args, **kwargs)\n        save_path = save_path if save_path else self.__format_default_save_path(start)\n        dataf.to_parquet(save_path)\n\n    def download_live_data(self, save_path: str = None, *args, **kwargs):\n        \"\"\"Download a month of data.\"\"\"\n        start = self.current_time - relativedelta(months=1)\n        save_path = save_path if save_path else self.__format_default_save_path(start)\n        dataf = self.get_live_data(*args, **kwargs)\n        dataf.to_parquet(save_path)\n\n    def get_live_data(self, *args, **kwargs) -> NumerFrame:\n        \"\"\"Get a month of data as DataFrame.\"\"\"\n        start = self.current_time - relativedelta(months=1)\n        return NumerFrame(self._get_all_ticker_data(start=start, *args, **kwargs))\n\n    def _get_all_ticker_data(self, start: dt, *args, **kwargs) -> pd.DataFrame:\n        \"\"\"\n        Get data for all tickers defined in class using given starting date.\n        :param start: datetime object defining starting date.\n        \"\"\"\n        func = partial(self.__get_ticker_data, start=start)\n        results = []\n        for tick in tqdm(self.tickers):\n            try:\n                res = func(ticker=tick, *args, **kwargs)\n            except RemoteDataError:\n                rich_print(\n                    f\":warning: WARNING: No data found for ticker: [red]'{tick}'[/red]. :warning:\"\n                )\n                continue\n            results.append(res)\n        dataf = pd.concat(results)\n        return dataf\n\n    def __get_ticker_data(\n        self, ticker: str, start: dt, *args, **kwargs\n    ) -> pd.DataFrame:\n        dataf = web.DataReader(\n            ticker, self.backend, start, self.current_time, *args, **kwargs\n        )\n        dataf[\"ticker\"] = ticker\n        dataf.index.names = [\"date\"]\n        dataf = dataf.reset_index(drop=False)\n        return dataf\n\n    def __format_default_save_path(self, start: dt):\n        return f\"{self.dir}/{self.backend}_{start.strftime('%Y%m%d')}_{self.current_time.strftime('%Y%m%d')}.parquet\"";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pdr</span> <span class="o">=</span> <span class="n">PandasDataReader</span><span class="p">(</span><span class="n">directory_path</span><span class="o">=</span><span class="s2">&quot;pandas_datareader_test&quot;</span><span class="p">,</span> <span class="n">tickers</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;AAPL&#39;</span><span class="p">,</span> <span class="s1">&#39;MSFT&#39;</span><span class="p">,</span> <span class="s1">&#39;NOTATICKER&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="787973df-5898-491b-b127-490e3760a2ef"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#787973df-5898-491b-b127-490e3760a2ef');

            setTimeout(function() {
                var nbb_cell_id = 19;
                var nbb_unformatted_code = "pdr = PandasDataReader(directory_path=\"pandas_datareader_test\", tickers=['AAPL', 'MSFT', 'NOTATICKER'])";
                var nbb_formatted_code = "pdr = PandasDataReader(\n    directory_path=\"pandas_datareader_test\", tickers=[\"AAPL\", \"MSFT\", \"NOTATICKER\"]\n)";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>.download_training_data</code> downloads all data from given start date (<code>datetime</code> object).</p>
<p><code>.download_inference_data</code> downloads data for a year.</p>
<p><code>.download_live_data</code> downloads data for a month.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pdr</span><span class="o">.</span><span class="n">download_training_data</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">dt</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2008</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="n">pdr</span><span class="o">.</span><span class="n">download_inference_data</span><span class="p">()</span>
<span class="n">pdr</span><span class="o">.</span><span class="n">download_live_data</span><span class="p">()</span>

<span class="k">assert</span> <span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;pandas_datareader_test/yahoo_20080101_</span><span class="si">{</span><span class="n">dt</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">.parquet&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2022-04-27 15:27:27,467 INFO numexpr.utils: Note: NumExpr detected 16 cores but &#34;NUMEXPR_MAX_THREADS&#34; not set, so enforcing safe limit of 8.
2022-04-27 15:27:27,468 INFO numexpr.utils: NumExpr defaulting to 8 threads.
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">⚠ WARNING: No data found for ticker: <span style="color: #800000; text-decoration-color: #800000">'NOTATICKER'</span>. ⚠
</pre>

</div>

</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">⚠ WARNING: No data found for ticker: <span style="color: #800000; text-decoration-color: #800000">'NOTATICKER'</span>. ⚠
</pre>

</div>

</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">⚠ WARNING: No data found for ticker: <span style="color: #800000; text-decoration-color: #800000">'NOTATICKER'</span>. ⚠
</pre>

</div>

</div>

<div class="output_area">




<div id="7d2c8b56-8450-4e0b-bcd2-dab5def5019d"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#7d2c8b56-8450-4e0b-bcd2-dab5def5019d');

            setTimeout(function() {
                var nbb_cell_id = 20;
                var nbb_unformatted_code = "pdr.download_training_data(start=dt(year=2008, month=1, day=1))\npdr.download_inference_data()\npdr.download_live_data()\n\nassert Path(f\"pandas_datareader_test/yahoo_20080101_{dt.now().strftime('%Y%m%d')}.parquet\").is_file()";
                var nbb_formatted_code = "pdr.download_training_data(start=dt(year=2008, month=1, day=1))\npdr.download_inference_data()\npdr.download_live_data()\n\nassert Path(\n    f\"pandas_datareader_test/yahoo_20080101_{dt.now().strftime('%Y%m%d')}.parquet\"\n).is_file()";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>.get_live_data()</code> returns a <a href="/numerbloxnumerframe.html#NumerFrame"><code>NumerFrame</code></a> directly with data for a month.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dataf</span> <span class="o">=</span> <span class="n">pdr</span><span class="o">.</span><span class="n">get_live_data</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">⚠ WARNING: No data found for ticker: <span style="color: #800000; text-decoration-color: #800000">'NOTATICKER'</span>. ⚠
</pre>

</div>

</div>

<div class="output_area">




<div id="4648085e-18a9-47b3-9993-cc1d25a92dd6"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#4648085e-18a9-47b3-9993-cc1d25a92dd6');

            setTimeout(function() {
                var nbb_cell_id = 21;
                var nbb_unformatted_code = "dataf = pdr.get_live_data()";
                var nbb_formatted_code = "dataf = pdr.get_live_data()";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">dataf</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">dataf</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>(42, 8)
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>High</th>
      <th>Low</th>
      <th>Open</th>
      <th>Close</th>
      <th>Volume</th>
      <th>Adj Close</th>
      <th>ticker</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2022-03-28</td>
      <td>175.729996</td>
      <td>172.000000</td>
      <td>172.169998</td>
      <td>175.600006</td>
      <td>90371900</td>
      <td>175.600006</td>
      <td>AAPL</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2022-03-29</td>
      <td>179.009995</td>
      <td>176.339996</td>
      <td>176.690002</td>
      <td>178.960007</td>
      <td>100589400</td>
      <td>178.960007</td>
      <td>AAPL</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

<div class="output_area">




<div id="3b2b8d42-bd16-4844-89d5-b4103c146647"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#3b2b8d42-bd16-4844-89d5-b4103c146647');

            setTimeout(function() {
                var nbb_cell_id = 22;
                var nbb_unformatted_code = "print(dataf.shape)\ndataf.head(2)";
                var nbb_formatted_code = "print(dataf.shape)\ndataf.head(2)";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dataf</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>High</th>
      <th>Low</th>
      <th>Open</th>
      <th>Close</th>
      <th>Volume</th>
      <th>Adj Close</th>
      <th>ticker</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>19</th>
      <td>2022-04-25</td>
      <td>281.109985</td>
      <td>270.769989</td>
      <td>273.290009</td>
      <td>280.720001</td>
      <td>35678900</td>
      <td>280.720001</td>
      <td>MSFT</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2022-04-26</td>
      <td>278.359985</td>
      <td>270.000000</td>
      <td>277.500000</td>
      <td>270.220001</td>
      <td>45287600</td>
      <td>270.220001</td>
      <td>MSFT</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

<div class="output_area">




<div id="c32cc17d-1d61-4717-b394-c639594cf1cf"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#c32cc17d-1d61-4717-b394-c639594cf1cf');

            setTimeout(function() {
                var nbb_cell_id = 23;
                var nbb_unformatted_code = "dataf.tail(2)";
                var nbb_formatted_code = "dataf.tail(2)";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dataf</span><span class="p">[</span><span class="n">dataf</span><span class="p">[</span><span class="s1">&#39;ticker&#39;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;AAPL&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">)[</span><span class="s1">&#39;Adj Close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">dataf</span><span class="p">[</span><span class="n">dataf</span><span class="p">[</span><span class="s1">&#39;ticker&#39;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;MSFT&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">)[</span><span class="s1">&#39;Adj Close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;AAPL&#39;</span><span class="p">,</span> <span class="s1">&#39;MSFT&#39;</span><span class="p">]);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">




<div id="22d20a89-07ff-4e82-a3b1-bf50731402ae"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#22d20a89-07ff-4e82-a3b1-bf50731402ae');

            setTimeout(function() {
                var nbb_cell_id = 24;
                var nbb_unformatted_code = "dataf[dataf['ticker']==\"AAPL\"].set_index(\"date\")['Adj Close'].plot()\ndataf[dataf['ticker']==\"MSFT\"].set_index(\"date\")['Adj Close'].plot()\nplt.legend(['AAPL', 'MSFT']);";
                var nbb_formatted_code = "dataf[dataf[\"ticker\"] == \"AAPL\"].set_index(\"date\")[\"Adj Close\"].plot()\ndataf[dataf[\"ticker\"] == \"MSFT\"].set_index(\"date\")[\"Adj Close\"].plot()\nplt.legend([\"AAPL\", \"MSFT\"])";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pdr</span><span class="o">.</span><span class="n">remove_base_directory</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">⚠ <span style="color: #800000; text-decoration-color: #800000">Deleting directory for </span><span style="color: #800000; text-decoration-color: #800000">'PandasDataReader</span><span style="color: #008000; text-decoration-color: #008000">'</span> ⚠
Path: 
<span style="color: #008000; text-decoration-color: #008000">'/Users/clepelaars/Desktop/crowdcent/repositories/numerai-blocks/nbs/pandas_datareader_test'</span>
</pre>

</div>

</div>

<div class="output_area">




<div id="7cd4c540-2c3d-4644-a248-42690a056511"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#7cd4c540-2c3d-4644-a248-42690a056511');

            setTimeout(function() {
                var nbb_cell_id = 25;
                var nbb_unformatted_code = "pdr.remove_base_directory()";
                var nbb_formatted_code = "pdr.remove_base_directory()";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="5.-Custom-Downloader">5. Custom Downloader<a class="anchor-link" href="#5.-Custom-Downloader"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We invite the Numerai Community to implement new downloaders for this project using interesting APIs.</p>
<p>These are especially important for creating innovative Numerai Signals models.</p>
<p>A new Downloader can be created by inheriting from <a href="/numerbloxdownload.html#BaseDownloader"><code>BaseDownloader</code></a>. You should implement methods for <code>.download_inference_data</code> and <code>.download_training_data</code> so every downloader has a common interface. Below you will find a template for a new downloader.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="AwesomeCustomDownloader" class="doc_header"><code>class</code> <code>AwesomeCustomDownloader</code><a href="https://github.com/crowdcent/numerblox/tree/master/numerblox/download.py#L491" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>AwesomeCustomDownloader</code>(<strong><code>directory_path</code></strong>:<code>str</code>) :: <a href="/numerbloxdownload.html#BaseDownloader"><code>BaseDownloader</code></a></p>
</blockquote>
<p>TEMPLATE -
Download awesome financial data from who knows where.</p>
<p>:param directory_path: Base folder to download files to.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="b6235de1-bde4-430f-820e-17503b578490"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#b6235de1-bde4-430f-820e-17503b578490');

            setTimeout(function() {
                var nbb_cell_id = 26;
                var nbb_unformatted_code = "# export\nclass AwesomeCustomDownloader(BaseDownloader):\n    \"\"\"\n    TEMPLATE -\n    Download awesome financial data from who knows where.\n\n    :param directory_path: Base folder to download files to.\n    \"\"\"\n    def __init__(self, directory_path: str):\n        super().__init__(directory_path=directory_path)\n\n    def download_inference_data(self, *args, **kwargs):\n        \"\"\" (minimal) weekly inference downloading here. \"\"\"\n        ...\n\n    def download_training_data(self, *args, **kwargs):\n        \"\"\" Training + validation dataset downloading here. \"\"\"\n        ...";
                var nbb_formatted_code = "# export\nclass AwesomeCustomDownloader(BaseDownloader):\n    \"\"\"\n    TEMPLATE -\n    Download awesome financial data from who knows where.\n\n    :param directory_path: Base folder to download files to.\n    \"\"\"\n\n    def __init__(self, directory_path: str):\n        super().__init__(directory_path=directory_path)\n\n    def download_inference_data(self, *args, **kwargs):\n        \"\"\"(minimal) weekly inference downloading here.\"\"\"\n        ...\n\n    def download_training_data(self, *args, **kwargs):\n        \"\"\"Training + validation dataset downloading here.\"\"\"\n        ...";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>

</div>
</div>
</div>
</div>
 

