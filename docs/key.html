---

title: Authentication


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/08_key.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/08_key.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Key">Key<a class="anchor-link" href="#Key"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Key</span><span class="p">:</span>
    <span class="n">pub_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">secret_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="c1"># Decode credentials</span>
    <span class="n">pub_id</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">pub_id</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
    <span class="n">secret_key</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">secret_key</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:key: Intialized </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="si">}</span><span class="s2"> :key:&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Numerai Authentication Key. pub_id: &#39;</span><span class="si">{</span><span class="n">pub_id</span><span class="si">}</span><span class="s2">&#39;&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">load_key_from_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize Key object from JSON file.</span>
<span class="sd">    Credentials file should have the following format:</span>
<span class="sd">    {</span>
<span class="sd">    &quot;pub_id&quot;: &quot;PUBLIC_ID&quot;,</span>
<span class="sd">    &quot;secret_key&quot;: &quot;SECRET_KEY&quot;</span>
<span class="sd">    }</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
        <span class="n">json_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">pub_id</span> <span class="o">=</span> <span class="n">json_data</span><span class="p">[</span><span class="s1">&#39;pub_id&#39;</span><span class="p">]</span>
    <span class="n">secret_key</span> <span class="o">=</span> <span class="n">json_data</span><span class="p">[</span><span class="s1">&#39;secret_key&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">Key</span><span class="p">(</span><span class="n">pub_id</span><span class="o">=</span><span class="n">pub_id</span><span class="p">,</span> <span class="n">secret_key</span><span class="o">=</span><span class="n">secret_key</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="4a4341bd-bb41-464b-b651-2292662a9eb7"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#4a4341bd-bb41-464b-b651-2292662a9eb7');

            setTimeout(function() {
                var nbb_cell_id = 5;
                var nbb_unformatted_code = "@dataclass(frozen=True)\nclass Key:\n    pub_id: str = \"\"\n    secret_key: str = \"\"\n    # Decode credentials\n    pub_id = base64.b64decode(pub_id).decode('utf-8')\n    secret_key = base64.b64decode(secret_key).decode('utf-8')\n\n    def __post_init__(self):\n        rich_print(f\":key: Intialized {self.__repr__} :key:\")\n\n    def __repr__(self):\n        return f\"Numerai Authentication Key. pub_id: '{pub_id}'\"\n\n    def __str__(self):\n        return self.__repr__()\n\ndef load_key_from_json(file_path: str, *args, **kwargs):\n    \"\"\"\n    Initialize Key object from JSON file.\n    Credentials file should have the following format:\n    {\n    \"pub_id\": \"PUBLIC_ID\",\n    \"secret_key\": \"SECRET_KEY\"\n    }\n    \"\"\"\n    with open(file_path) as json_file:\n        json_data = json.load(json_file, *args, **kwargs)\n    pub_id = json_data['pub_id']\n    secret_key = json_data['secret_key']\n    return Key(pub_id=pub_id, secret_key=secret_key)";
                var nbb_formatted_code = "@dataclass(frozen=True)\nclass Key:\n    pub_id: str = \"\"\n    secret_key: str = \"\"\n    # Decode credentials\n    pub_id = base64.b64decode(pub_id).decode(\"utf-8\")\n    secret_key = base64.b64decode(secret_key).decode(\"utf-8\")\n\n    def __post_init__(self):\n        rich_print(f\":key: Intialized {self.__repr__} :key:\")\n\n    def __repr__(self):\n        return f\"Numerai Authentication Key. pub_id: '{pub_id}'\"\n\n    def __str__(self):\n        return self.__repr__()\n\n\ndef load_key_from_json(file_path: str, *args, **kwargs):\n    \"\"\"\n    Initialize Key object from JSON file.\n    Credentials file should have the following format:\n    {\n    \"pub_id\": \"PUBLIC_ID\",\n    \"secret_key\": \"SECRET_KEY\"\n    }\n    \"\"\"\n    with open(file_path) as json_file:\n        json_data = json.load(json_file, *args, **kwargs)\n    pub_id = json_data[\"pub_id\"]\n    secret_key = json_data[\"secret_key\"]\n    return Key(pub_id=pub_id, secret_key=secret_key)";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Example-usage-(variable-input)">Example usage (variable input)<a class="anchor-link" href="#Example-usage-(variable-input)"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pub_id</span> <span class="o">=</span><span class="s2">&quot;QVdFU09NRV9QVUJMSUNfSUQ=&quot;</span>
<span class="n">secret_key</span> <span class="o">=</span> <span class="s2">&quot;VkVSWV9FVkVOX01PUkVfU0VDUkVUX0tFWQ==&quot;</span>
<span class="n">example_key</span> <span class="o">=</span> <span class="n">Key</span><span class="p">(</span><span class="n">pub_id</span><span class="o">=</span><span class="n">pub_id</span><span class="p">,</span> <span class="n">secret_key</span><span class="o">=</span><span class="n">secret_key</span><span class="p">)</span>
<span class="n">example_key</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">🔑 Intialized <span style="font-weight: bold">&lt;</span><span style="color: #ff00ff; text-decoration-color: #ff00ff; font-weight: bold">bound</span><span style="color: #000000; text-decoration-color: #000000"> method Key.__repr__ of Numerai Authentication Key. pub_id: </span>
<span style="color: #008000; text-decoration-color: #008000">'QVdFU09NRV9QVUJMSUNfSUQ='</span><span style="font-weight: bold">&gt;</span> 🔑
</pre>

</div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Numerai Authentication Key. pub_id: &#39;QVdFU09NRV9QVUJMSUNfSUQ=&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">example_key</span><span class="o">.</span><span class="n">pub_id</span><span class="p">,</span> <span class="n">example_key</span><span class="o">.</span><span class="n">secret_key</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;QVdFU09NRV9QVUJMSUNfSUQ=&#39;, &#39;VkVSWV9FVkVOX01PUkVfU0VDUkVUX0tFWQ==&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="p">(</span><span class="n">example_key</span><span class="o">.</span><span class="n">pub_id</span><span class="p">,</span> <span class="n">example_key</span><span class="o">.</span><span class="n">secret_key</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">pub_id</span><span class="p">,</span> <span class="n">secret_key</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Example-loading-from-JSON">Example loading from JSON<a class="anchor-link" href="#Example-loading-from-JSON"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">example_key2</span> <span class="o">=</span> <span class="n">load_key_from_json</span><span class="p">(</span><span class="s2">&quot;test_assets/test_credentials.json&quot;</span><span class="p">)</span>
<span class="n">example_key2</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Numerai Authentication Key. pub_id: &#39;QVdFU09NRV9QVUJMSUNfSUQ=&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">example_key2</span><span class="o">.</span><span class="n">pub_id</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;UFVCTElDX0lE&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

